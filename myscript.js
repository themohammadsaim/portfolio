document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".timeline-nav a").forEach(e=>{e.addEventListener("click",function(e){e.preventDefault(),document.querySelector(this.getAttribute("href")).scrollIntoView({behavior:"smooth"})})});let e=document.querySelectorAll(".accordion-button");e.forEach(e=>{e.addEventListener("click",()=>{let t=e.nextElementSibling,o="true"===e.getAttribute("aria-expanded");e.setAttribute("aria-expanded",!o),t.classList.toggle("open")})});let t=document.getElementById("imageModal"),o=document.getElementById("modalImage"),l=document.querySelector(".close"),r=document.querySelector(".prev"),c=document.querySelector(".next"),a=[],n=0,s="",i=!1;function d(){document.body.style.overflow="hidden"}function p(){i||"flex"===t.style.display||(document.body.style.overflow="auto")}function y(e,l){t.style.display="flex",o.src=e.src,d(),s=l,n=(a="accordion"===l?Array.from(document.querySelectorAll(".image-gallery img")):Array.from(e.closest(".popup-card").querySelectorAll(".popup-img"))).indexOf(e),v()}function u(){t.style.display="none",p()}function g(e){e.stopPropagation(),n=(n+1)%a.length,o.src=a[n].src,v()}function f(e){e.stopPropagation(),n=(n-1+a.length)%a.length,o.src=a[n].src,v()}function v(){a.length>1?(r.style.display="block",c.style.display="block"):(r.style.display="none",c.style.display="none")}document.querySelectorAll(".image-gallery img").forEach(e=>{e.addEventListener("click",t=>{t.stopPropagation(),y(e,"accordion")})}),document.querySelectorAll(".popup-card .popup-img").forEach(e=>{e.addEventListener("click",t=>{t.stopPropagation(),y(e,"popup")})}),l.addEventListener("click",u),t.addEventListener("click",e=>{e.target===t&&u()}),c.addEventListener("click",g),r.addEventListener("click",f);let E=document.querySelectorAll(".icon img");E.forEach(e=>{e.addEventListener("click",t=>{t.stopPropagation();let o=e.closest(".project").querySelector(".popup-card"),l=e.closest(".project").querySelector(".overlay");o.classList.add("show-card"),l.classList.add("show-overlay"),i=!0,d()})}),document.querySelectorAll(".close-btn, .overlay").forEach(e=>{e.addEventListener("click",()=>{let t=e.closest(".project").querySelector(".popup-card"),o=e.closest(".project").querySelector(".overlay");t.classList.remove("show-card"),o.classList.remove("show-overlay"),i=!1,p()})}),document.addEventListener("keydown",e=>{"flex"===t.style.display&&("ArrowRight"===e.key&&g(e),"ArrowLeft"===e.key&&f(e),"Escape"===e.key&&u())})});